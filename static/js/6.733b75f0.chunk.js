(this["webpackJsonp@cheeseswapv2/interface-v2"]=this["webpackJsonp@cheeseswapv2/interface-v2"]||[]).push([[6],{1484:function(e,n,t){"use strict";var r=t(9);n.__esModule=!0,n.default=function(){var e=(0,C.useAllTransactions)(),n=(0,j.useActiveWeb3React)().chainId,t=null!==n&&void 0!==n?n:B.SUPPORTED_CHAIN_ID,r=(0,N.useState)((function(){return ve(t)})),o=(0,I.default)(r,2),a=o[0],l=o[1],i=(0,N.useState)(!1),u=(0,I.default)(i,2),s=u[0],c=u[1],d=(0,N.useState)(0),f=(0,I.default)(d,2),m=f[0],p=f[1],h=(0,N.useMemo)((function(){return(0,U.getTransactionsClient)()}),[]);(0,N.useEffect)((function(){l(ve(t))}),[t]),(0,N.useEffect)((function(){if(h){var e=!1,n=function(){var n=(0,T.default)(L.default.mark((function n(){var r,o,a,i;return L.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c(!0),n.prev=1,n.next=4,h.query({query:ce,variables:{first:100}});case 4:if(o=n.sent,a=o.data,!e){n.next=8;break}return n.abrupt("return");case 8:i=(null!==(r=null===a||void 0===a?void 0:a.swaps)&&void 0!==r?r:[]).map(ge).filter((function(e){return Boolean(e)})),l((function(e){return de(e,i)?e:(be(t,i),i)})),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),e||console.error("Unable to load swaps from subgraph",n.t0);case 15:return n.prev=15,e||c(!1),n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[1,12,15,18]])})));return function(){return n.apply(this,arguments)}}();n();var r=setInterval(n,3e4);return function(){e=!0,clearInterval(r)}}c(!1)}),[h,t]);var g=(0,N.useMemo)((function(){return Object.values(null!==e&&void 0!==e?e:{}).filter((function(e){var n;return null===(n=e.summary)||void 0===n?void 0:n.toLowerCase().startsWith("swap ")})).sort((function(e,n){return n.addedTime-e.addedTime})).slice(0,100).map((function(e){var n=function(e){if(!e)return{};var n=e.match(/Swap\s([\d.,]+)\s([^\s]+)\sfor\s([\d.,]+)\s([^\s]+)/i);return n?{inputAmount:n[1],inputSymbol:n[2],outputAmount:n[3],outputSymbol:n[4]}:{}}(e.summary),t=n.inputAmount,r=n.inputSymbol,o=n.outputAmount,a=n.outputSymbol;return{rowKey:"local-".concat(e.hash),hash:e.hash,fromAmount:null!==t&&void 0!==t?t:"\u2014",fromSymbol:null!==r&&void 0!==r?r:"Unknown",fromLogoSrcs:fe(r),toAmount:null!==o&&void 0!==o?o:"\u2014",toSymbol:null!==a&&void 0!==a?a:"Unknown",toLogoSrcs:fe(a),timestamp:e.addedTime,status:pe(e)}}))}),[e]),v=a.length?a:g,b=a.length>0,y=v.length?Math.ceil(v.length/20):0,w=v.slice(20*m,20*m+20),x=v.length>20&&y>0;(0,N.useEffect)((function(){p(0)}),[b]),(0,N.useEffect)((function(){y||0===m?y&&m>=y&&p(y-1):p(0)}),[y,m]);var k=function(){return p((function(e){return Math.max(e-1,0)}))},E=function(){return p((function(e){return Math.min(e+1,Math.max(y-1,0))}))},S=function(e){return N.default.createElement(ie,{style:e},N.default.createElement(ue,{onClick:k,disabled:0===m},"Previous"),N.default.createElement(se,null,"Page ",m+1," / ",y),N.default.createElement(ue,{onClick:E,disabled:m+1>=y},"Next"))};return N.default.createElement(H,null,N.default.createElement(W,null,N.default.createElement(J,null,"Transactions"),N.default.createElement(G,{"aria-label":"Live feed indicator"})),N.default.createElement($,null,x&&S({marginTop:0,marginBottom:"0.75rem"}),N.default.createElement(Y,null,N.default.createElement("div",null,"From"),N.default.createElement("div",null,"To"),N.default.createElement("div",null,"Tx Hash"),N.default.createElement("div",null,"Time Stamp"),N.default.createElement("div",null,"Status")),0===v.length?N.default.createElement(oe,null,s?"Loading recent swaps from router\u2026":"No recent swap transactions yet."):w.map((function(e){var t=null!==n&&void 0!==n?n:B.SUPPORTED_CHAIN_ID,r=e.hash?(0,K.getBscscanLink)(t,e.hash,"transaction"):void 0,o=e.fromTokenAddress?(0,K.getBscscanLink)(t,e.fromTokenAddress,"token"):void 0,a=e.toTokenAddress?(0,K.getBscscanLink)(t,e.toTokenAddress,"token"):void 0;return N.default.createElement(X,{key:e.rowKey},N.default.createElement(Z,null,o?N.default.createElement(ee,{href:o,target:"_blank",rel:"noopener noreferrer"},N.default.createElement(M.default,{size:"44px",srcs:e.fromLogoSrcs,alt:"".concat(e.fromSymbol," logo")})):N.default.createElement(M.default,{size:"44px",srcs:e.fromLogoSrcs,alt:"".concat(e.fromSymbol," logo")}),N.default.createElement(ne,null,N.default.createElement("strong",null,e.fromAmount),N.default.createElement("span",null,e.fromSymbol))),N.default.createElement(Z,null,a?N.default.createElement(ee,{href:a,target:"_blank",rel:"noopener noreferrer"},N.default.createElement(M.default,{size:"44px",srcs:e.toLogoSrcs,alt:"".concat(e.toSymbol," logo")})):N.default.createElement(M.default,{size:"44px",srcs:e.toLogoSrcs,alt:"".concat(e.toSymbol," logo")}),N.default.createElement(ne,null,N.default.createElement("strong",null,e.toAmount),N.default.createElement("span",null,e.toSymbol))),r?N.default.createElement(te,{href:r,target:"_blank",rel:"noopener noreferrer"},he(e.hash)," \u2197"):N.default.createElement("span",null,he(e.hash)),N.default.createElement("span",null,function(e){if(!e||Number.isNaN(e))return"\u2014";try{return new Date(e).toLocaleString(void 0,{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}catch(n){return"\u2014"}}(e.timestamp)),N.default.createElement(re,{variant:e.status},e.status))})),x&&S()),N.default.createElement(ae,null,N.default.createElement("span",null,b?"Showing last tracked transactions by GraphQL API. To view more details & depth data visit":"GraphQL feed temporarily unavailable. Displaying your latest wallet swaps instead."),N.default.createElement(le,{href:"https://info.cheeseswap.app",target:"_blank",rel:"noopener noreferrer"},"Analytics V2 \u2197")))};var o,a,l,i,u,s,c,d,f,m,p,h,g,v,b,y,w,x,k,E,S,A,L=r(t(2)),T=r(t(32)),I=r(t(31)),O=r(t(73)),P=r(t(24)),N=F(t(0)),z=F(t(23)),_=t(1623),M=r(t(682)),D=t(58),j=t(41),C=t(223),K=t(64),B=t(86),R=t(142),U=t(1659);function q(e){if("function"!==typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(q=function(e){return e?t:n})(e)}function F(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=q(n);if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=o?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}var H=z.default.div(o||(o=(0,P.default)(["\n  width: min(98vw, 1260px);\n  max-width: 1260px;\n  padding: 2rem 1.25rem 3.75rem;\n  display: flex;\n  flex-direction: column;\n  gap: 1.25rem;\n  margin: 0 auto;\n"]))),J=z.default.h1(a||(a=(0,P.default)(["\n  margin: 0;\n  font-size: 1.75rem;\n  color: ",";\n"])),(function(e){return e.theme.colors.text1})),W=z.default.div(l||(l=(0,P.default)(["\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n"]))),Q=(0,z.keyframes)(i||(i=(0,P.default)(["\n  0% {\n    opacity: 0.3;\n    transform: scale(0.9);\n  }\n  50% {\n    opacity: 1;\n    transform: scale(1);\n  }\n  100% {\n    opacity: 0.3;\n    transform: scale(0.9);\n  }\n"]))),G=z.default.span(u||(u=(0,P.default)(["\n  width: 12px;\n  height: 12px;\n  border-radius: 50%;\n  background: ",";\n  box-shadow: 0 0 6px rgba(46, 204, 113, 0.7);\n  animation: "," 1.4s ease-in-out infinite;\n"])),(function(e){return e.theme.colors.green1||"#2ecc71"}),Q),$=z.default.div(s||(s=(0,P.default)(["\n  width: 100%;\n  border-radius: 28px;\n  border: 1px solid ",";\n  background: ",";\n  box-shadow: 0 22px 48px rgba(0, 0, 0, 0.12);\n  padding: 2rem;\n  overflow-x: auto;\n  overflow-y: auto;\n  scrollbar-width: none;\n  -ms-overflow-style: none;\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n"])),(function(e){return e.theme.colors.bg3}),(function(e){return e.theme.colors.bg1})),V=z.default.div(c||(c=(0,P.default)(["\n  display: grid;\n  grid-template-columns: minmax(260px, 1.35fr) minmax(260px, 1.35fr) minmax(200px, 0.9fr) minmax(220px, 0.9fr) minmax(140px, 0.6fr);\n  gap: 1.2rem;\n  align-items: center;\n  min-width: 1080px;\n\n  ",";\n"])),(function(e){return e.theme.mediaWidth.upToSmall(d||(d=(0,P.default)(["\n    min-width: 880px;\n  "])))})),Y=(0,z.default)(V)(f||(f=(0,P.default)(["\n  font-size: 0.78rem;\n  text-transform: uppercase;\n  letter-spacing: 0.12em;\n  color: ",";\n  margin-bottom: 0.75rem;\n  padding: 0.5rem 0.25rem;\n  border-radius: 16px;\n  background: linear-gradient(135deg, "," 0%, "," 100%);\n  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.05);\n"])),(function(e){return e.theme.colors.text1}),(function(e){return e.theme.colors.bg2}),(function(e){return e.theme.colors.bg3})),X=(0,z.default)(V)(m||(m=(0,P.default)(["\n  padding: 1rem 0;\n  border-top: 1px solid ",";\n  font-size: 0.95rem;\n"])),(function(e){return e.theme.colors.bg3})),Z=z.default.div(p||(p=(0,P.default)(["\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n"]))),ee=(0,z.default)(D.ExternalLink)(h||(h=(0,P.default)(["\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  transition: transform 0.15s ease;\n  cursor: pointer;\n\n  &:hover {\n    transform: translateY(-1px);\n  }\n"]))),ne=z.default.div(g||(g=(0,P.default)(["\n  display: flex;\n  flex-direction: column;\n  line-height: 1.2;\n  gap: 0.15rem;\n\n  strong {\n    color: ",";\n    font-size: 1rem;\n  }\n\n  span {\n    color: ",";\n    font-size: 0.85rem;\n  }\n"])),(function(e){return e.theme.colors.text1}),(function(e){return e.theme.colors.text2})),te=(0,z.default)(D.ExternalLink)(v||(v=(0,P.default)(["\n  font-weight: 600;\n  color: ",";\n  text-decoration: none;\n  word-break: break-all;\n\n  &:hover {\n    color: ",";\n  }\n"])),(function(e){return e.theme.colors.text1}),(function(e){return e.theme.colors.primary1})),re=z.default.span(b||(b=(0,P.default)(["\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0.35rem 0.9rem;\n  border-radius: 999px;\n  font-weight: 700;\n  font-size: 0.85rem;\n  text-transform: capitalize;\n  color: ",";\n  background: ",";\n"])),(function(e){var n=e.variant,t=e.theme;return"success"===n||"failed"===n?t.colors.white:t.colors.text1}),(function(e){var n=e.variant,t=e.theme;switch(n){case"success":return t.colors.primary1;case"failed":return t.colors.red1;default:return t.colors.bg3}})),oe=z.default.div(y||(y=(0,P.default)(["\n  padding: 2rem 0;\n  text-align: center;\n  color: ",";\n  font-size: 1rem;\n"])),(function(e){return e.theme.colors.text2})),ae=z.default.div(w||(w=(0,P.default)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n  gap: 0.5rem;\n  text-align: center;\n  color: ",";\n  font-size: 0.85rem;\n  margin-top: 12px;\n"])),(function(e){return e.theme.colors.text2})),le=(0,z.default)(D.ExternalLink)(x||(x=(0,P.default)(["\n  font-weight: 600;\n  color: ",";\n  text-decoration: none;\n\n  &:hover {\n    text-decoration: underline;\n  }\n"])),(function(e){return e.theme.colors.primary1})),ie=z.default.div(k||(k=(0,P.default)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  gap: 0.75rem;\n  margin-top: 0.75rem;\n  width: 100%;\n"]))),ue=z.default.button(E||(E=(0,P.default)(["\n  border: 1px solid ",";\n  background: ",";\n  color: ",";\n  padding: 0.35rem 0.9rem;\n  border-radius: 999px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n\n  &:disabled {\n    opacity: 0.4;\n    cursor: not-allowed;\n  }\n\n  &:not(:disabled):hover {\n    color: ",";\n    border-color: ",";\n  }\n"])),(function(e){return e.theme.colors.bg3}),(function(e){return e.theme.colors.bg1}),(function(e){return e.theme.colors.text1}),(function(e){return e.theme.colors.primary1}),(function(e){return e.theme.colors.primary1})),se=z.default.span(S||(S=(0,P.default)(["\n  font-size: 0.85rem;\n  color: ",";\n  min-width: 110px;\n  text-align: center;\n"])),(function(e){return e.theme.colors.text2})),ce=(0,_.gql)(A||(A=(0,P.default)(["\n  query TransactionSwaps($first: Int!) {\n    swaps(first: $first, orderBy: timestamp, orderDirection: desc) {\n      id\n      transaction {\n        id\n        timestamp\n      }\n      amount0In\n      amount0Out\n      amount1In\n      amount1Out\n      pair {\n        id\n        token0 {\n          id\n          symbol\n          decimals\n        }\n        token1 {\n          id\n          symbol\n          decimals\n        }\n      }\n    }\n  }\n"])));function de(e,n){if(e.length!==n.length)return!1;for(var t=0;t<e.length;t++){var r=e[t],o=n[t];if(!o)return!1;if(r.rowKey!==o.rowKey||r.hash!==o.hash||r.fromAmount!==o.fromAmount||r.fromSymbol!==o.fromSymbol||r.toAmount!==o.toAmount||r.toSymbol!==o.toSymbol||r.timestamp!==o.timestamp)return!1}return!0}function fe(e,n){var t=[];return n&&t.push((0,R.getTokenLogoURL)(n)),e&&t.push("/images/coins/".concat(e.toUpperCase(),".png"),"/images/coins/".concat(e.toLowerCase(),".png")),t.push("/images/coins/token.png"),t}function me(e){var n=Number(null!==e&&void 0!==e?e:"0");return Number.isFinite(n)&&0!==n?n>=1?n.toLocaleString(void 0,{maximumFractionDigits:4}):n.toPrecision(4):"0"}function pe(e){return e.receipt?e.receipt.status?"success":"failed":"pending"}function he(e){return"".concat(e.slice(0,6),"...").concat(e.slice(-4))}function ge(e){var n,t,r,o,a,l=e.pair;if(null===l||void 0===l||!l.token0||null===l||void 0===l||!l.token1)return null;var i=Number(null!==(n=e.amount0In)&&void 0!==n?n:"0"),u=Number(null!==(t=e.amount0Out)&&void 0!==t?t:"0"),s=i>0?l.token0:l.token1,c=u>0?l.token0:l.token1,d=i>0?e.amount0In:e.amount1In,f=u>0?e.amount0Out:e.amount1Out;if(!s||!c||!Number(null!==d&&void 0!==d?d:"0")&&!Number(null!==f&&void 0!==f?f:"0"))return null;var m=s.symbol||s.id.slice(0,6),p=c.symbol||c.id.slice(0,6),h=null!==(r=e.transaction)&&void 0!==r&&r.timestamp?1e3*Number(e.transaction.timestamp):void 0,g=null!==(o=null===(a=e.transaction)||void 0===a?void 0:a.id)&&void 0!==o?o:e.id;return{rowKey:e.id,hash:g,fromAmount:me(d),fromSymbol:m,fromLogoSrcs:fe(m,s.id),fromTokenAddress:s.id,toAmount:me(f),toSymbol:p,toLogoSrcs:fe(p,c.id),toTokenAddress:c.id,timestamp:h,status:"success"}}function ve(e){if("undefined"===typeof window)return[];try{var n=window.localStorage.getItem("cheeseswap:transactions:routerRows:v1");if(!n)return[];var t=JSON.parse(n);return t&&t.chainId===e&&Array.isArray(t.rows)?t.rows.map((function(e,n){var t,r;return(0,O.default)((0,O.default)({},e),{},{rowKey:null!==(t=e.rowKey)&&void 0!==t?t:"".concat(e.hash,"-").concat(null!==(r=e.timestamp)&&void 0!==r?r:0,"-").concat(n)})})):[]}catch(r){return console.warn("Failed to read router cache",r),[]}}function be(e,n){if("undefined"!==typeof window)try{var t={chainId:e,rows:n,updatedAt:Date.now()};window.localStorage.setItem("cheeseswap:transactions:routerRows:v1",JSON.stringify(t))}catch(r){console.warn("Failed to persist router cache",r)}}},1659:function(e,n,t){"use strict";n.__esModule=!0,n.getTransactionsClient=function(){0;o||(o=new r.ApolloClient({link:new r.HttpLink({uri:a}),cache:new r.InMemoryCache,defaultOptions:l}));return o};var r=t(1623),o=null,a="https://gateway.thegraph.com/api/e74f872faa2b79699e978d00e61b412b/subgraphs/id/5xa2cK1KdB4enwsv27k8dqzuecbwDJnSfrHkoJA9RrHF",l={watchQuery:{fetchPolicy:"cache-and-network",errorPolicy:"ignore"},query:{fetchPolicy:"network-only",errorPolicy:"all"}}}}]);